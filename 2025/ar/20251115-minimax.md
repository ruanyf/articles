# VS Code 使用国产大模型 MiniMax M2 教程

一、

上周，我写了一篇 [Claude Code 接入国产大模型](https://www.ruanyifeng.com/blog/2025/11/doubao-seed-code.html)的教程，就有同学问我，为什么不用 VS Code？

问得好。我习惯命令行了，确实忽略了 VS Code。

今天就补上，我来介绍，如何不用插件在 VS Code 里面使用 Claude Code 的方法。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111506.webp)

我真心觉得，Claude Code 比那些插件好用，所以试试看，VS Code 里面也用它。

跟前一篇一样，这次也接入国产大模型，我选的是 [MiniMax M2](https://www.minimaxi.com/news/minimax-m2)。它的质量很不错，而且这周有活动。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111507.webp)

二、

这次评测的题目很有趣，我自己都很喜欢。

它是一个老外程序员最近想出来的，已经在国内引起了轰动。

他用了九个著名模型，生成网页时钟的动画，然后把这些动画放在[网站](https://clocks.brianmoore.com/)上，题目就叫“AI 时钟”。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111601.webp)

说来奇怪，这个测试看上去不难，但是大多数模型生成的效果并不好，有些甚至很差。

举例来说，下图是 OpenAI 公司 GPT-5 模型生成的时钟，让人无语。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111602.webp)

这个时钟的提示词如下，大家可以拿来自己测。

> Create HTML/CSS of an analog clock showing ${time}. Include numbers (or numerals) if you wish, and have a CSS animated second hand. Make it responsive and use a white background. Return ONLY the HTML/CSS code with no markdown formatting.

翻译成中文就是：

> “创建一个显示时间 ${time} 的模拟时钟的 HTML/CSS 代码。如果需要，可以包含数字，并添加 CSS 动画秒针。使其具有响应式设计，并使用白色背景。仅返回 HTML/CSS 代码，不要包含任何 Markdown 格式。”

我也拿它来测试，看看 MiniMax M2 的效果如何。

三、

进入正题之前，我想强调一下。大家有没有意识到，VS Code 与 Claude Code 是两种截然不同的工具。

**VS Code 是 IDE**，你是在 IDE 里面使用 AI。

**Claude Code 是命令行工具**，你是在终端窗口使用 AI。

它们不是一类的。IDE 支持智能感知（intellisense）和自动补全，而命令行支持调用系统工具和脚本，还能自动化集成，以及并行执行。

所以，**它们两个不是替代关系，而是互补关系**。你应该根据需要，选择最合适的工具。

我要演示的方法，正是将 IDE 和命令行结合起来，让你具有最大的灵活性。

四、

我用来测试的模型是 [MiniMax M2](https://www.minimaxi.com/news/minimax-m2)。

它是上月底发布的，很多评测说它是编程能力最强的开源模型之一，而且在 OpenRouter 平台上，它是 Token 调用量最大的国产模型。

我当时对它做了[评测](https://www.ruanyifeng.com/blog/2025/11/minimax-m2.html)，大家还有印象吗？当时的结论是，它的编程表现超出了我的预期。

但是那个时候，它没有包月套餐，只能按 API 使用量计费，就让人不敢多用。

现在不一样了，上个周末，它突然推出了 [Coding Plan 包月套餐](https://platform.minimaxi.com/subscribe/coding-plan)，有三档资费。

最低一档适合 API 的正常使用者，首月只要9.9元，（续费29元/月）。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111612.webp)

这就比较划算了。另外，新人注册时，官方还会赠送100万的免费 Token，让你试用。

所以，我就选了它。除了现在有优惠活动，它还有两个特点，很适合用来演示。

**（1）兼容性好**，我用它接入 Claude Code 和 VS Code 都没有问题。

[官网文档](https://platform.minimaxi.com/docs/guides/text-ai-coding-tools)给出接口示例的工具非常全，包括 Cursor、Cline、Codex、Kilo Code、Droid、Trae、Grok、OpenCode、iFlow 等等。

**（2）响应速度、生成速度快**。它的 API 服务器，在国内的响应时间一般是几十毫秒，每秒生成 Token 的数量（即 TPS 指标）超过100，比国外模型快得多。

五、

下面，我先将 MiniMax M2 接入 Claude Code。

就是新建一个 `claude-minimax` 脚本（下图），具体代码和详细步骤可以看[前一篇教程](https://www.ruanyifeng.com/blog/2025/11/doubao-seed-code.html)。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111508.webp)

接入后，可以测试一下，有没有问题。

```bash
$ claude-minimax --version
```

下面，就开始在 VS Code 里面生成 AI 时钟了。

第一步，新建一个目录作为项目目录，比如`ai-clock`。

```bash
$ mkdir ai-clock 
```

然后，在 VS Code 里面打开这个目录 `ai-clock`，作为工作区。

第二步，打开 VS Code 的菜单“终端/新建终端”，这样就能在 VS Code 里面使用命令行的 Claude Code 了。

输入 `claude-minimax`，打开 Claude Code。

```bash
$ claude-minimax
```

这时，Claude Code 会提示你授予权限，同意后，就会进入主窗口，大概就是下面这样。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111605.webp)

这时，你既可以使用 IDE 编写代码，又可以通过命令行使用 AI 模型，兼得两者的优势。

第二步，在 Claude Code 的提示框，输入`/init`命令，在仓库里面生成一个 CLAUDE.md 文件，用来记录 AI 操作。

```bash
/init
```

你可以看一下 CLAUDE.md 文件（下图）。因为这个示例仓库是空的，所以文件里面没什么内容，如果是有代码的仓库，文件里面会有 AI 对代码库的完整分析。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111606.webp)

这个文件的作用时，当作代码仓库的上下文，每次查询模型时，都会自动附上这个文件，以便模型了解代码库。

如果在提示框输入反斜杠，Claude Code 就会显示所有可用的命令（下图）。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111607.webp)

Claude Code 的基本用法就这样，下面就让模型生成网页时钟。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111608.webp)

模型思考了不到一分钟，就生成了下面的代码，并且自动把这些代码写入文件 `index.html`。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111609.webp)

打开网页就是下面的效果。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111610.webp)

它的秒针不停转动，正确表示了当前时间。你可以自己用前面的提示词，让 MiniMax M2 生成，也可以在这里查看[完整代码](https://nvr3mo2rsk.feishu.cn/wiki/SviGwvbOPipStPkriAvcIYefnlS?from=from_copylink)，复制保存后，在浏览器打开。

七、

从这个结果来看，MiniMax M2 的生成结果，无论是横向对比，还是实际效果，都是令人满意的。

最后，我转发一下他们的活动海报。[首月9.9元](https://platform.minimaxi.com/subscribe/coding-plan)，一杯咖啡的钱就能包月，需要者自取。

![](https://cdn.beekka.com/blogimg/asset/202511/bg2025111611.webp)

（完）


## 比较

IDE 与 CLI 之争

基于编辑器的代理和基于命令行的代理的主要区别在于，基于编辑器的代理更像是结对编程，而基于命令行的代理更像是委托。

基于编辑器的方案的优势在于它更贴合我们编写代码的方式。而基于命令行的方案的优势在于你可以创建多个实例。

### 终端

- 方便与 Bash 工具配合使用
- 多终端同时使用
- 次级智能体（sub-agent）https://code.claude.com/docs/en/sub-agents 介绍：https://www.reddit.com/r/ChatGPTCoding/comments/1m5uloy/are_there_any_real_benefits_in_using_terminalcli/
- 可以接入您现有的数据或持续集成管道，有利于自动化操作


实际上，Claude Code 之所以更胜一筹，是因为它能够并行调度子代理。这正是 Claude Code 的制胜法宝之一。

在调度子代理时，子代理只会收到与子任务非常相关的提示。这样，a) 使用的令牌会少得多，因为子代理不需要知道所有与此特定子任务无关的先前对话，主代理也不需要存储子代理在执行子任务时的所有对话；

b) 速度快得多：由于注意力层的计算成本是二次方的，因此标记越多，响应速度就越慢。

c) 更智能：由于子代理只关注与任务相关的特定词元，因此受无关词元的干扰更少。您可以亲自体验一下。如果您使用 Gemini 2.5 Pro，当上下文窗口超过 20 万个词元时，它的表现就会逊色很多。

优势：
自动化：擅长多步骤工作流程、脚本编写和重复性任务。
透明度：终端可以清晰地显示代理的操作和输出。
灵活性：可与各种命令行工具和脚本集成。
易用性：非程序员也可以使用它来完成文件管理或报告生成等任务。
典型应用场景：自动化部署、运行测试、数据处理、系统管理。

### VS Code

图形界面，直接在 VS Code IDE 中增强编码体验。

机制：扩展程序与 VS Code API 集成，以添加语言支持、调试工具、代码生成和智能辅助等功能。

优势：
紧密集成：与 IDE 用户界面和工作流程无缝集成。
上下文感知：可以利用开放项目的丰富上下文（代码库、文件、活动编辑器）。
交互式功能：提供内联自动完成、重构建议和错误高亮显示等功能。
自定义：提供丰富的选项，可根据特定需求和偏好定制 IDE。

典型应用场景：代码补全、调试、重构、文档生成、代码分析。

### 总结

- 界面：终端代理主要通过命令行运行，而 VS Code 扩展则集成到 IDE 的图形界面中。
- 范围：终端代理专注于自动化和执行任务，通常跨不同的工具，而 VS Code 扩展主要增强 IDE 中的编码和开发体验。
- 用户交互：终端代理通常涉及更明确的命令与响应交互，而 VS Code 扩展则提供更被动和集成的帮助。

终端人工智能代理是用于在命令行环境中自动化和协调任务的强大工具。

VS Code 扩展旨在增强和简化 IDE 本身的编码工作流程，提供智能辅助和集成工具。

选择哪种工具取决于您希望优化的具体任务或工作流程。通常，它们可以结合使用，构建一个全面的 AI 驱动型开发环境。

## 销售

新人注册 100万 Token
